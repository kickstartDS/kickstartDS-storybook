@use './button-tokens';

.c-button--main.c-button {
  clip-path: polygon(0 0, calc(100% - 35px) 0, 100% 30px, 100% calc(100% - 5px), calc(100% - 5px) 100%, 15px 100%, 0 50%);
  transition: 150ms all;

  @keyframes button-hover {
    0% { clip-path: polygon(0 0, 92% 0, 100% 40%, 100% 85%, 98% 100%, 7% 100%, 0 50%); }
    33% { clip-path: polygon(0 34%, 1% 0, 97% 0, 100% 25%, 100% 76%, 97% 100%, 6% 99%, 0 89%); }
    66% { clip-path: polygon(0 20%, 3% 0, 95% 0, 100% 9%, 100% 85%, 92% 100%, 6% 100%, 0% 85%); }
    100% { clip-path: polygon(0 14%, 6% 0, 95% 0, 100% 14%, 100% 85%, 97% 100%, 2% 100%, 0 71%); }
  }
}

.c-button {
  &--solid, &--solid-inverted, &--clear {
    clip-path: polygon(0 .3em, .3em 0, calc(100% - .4em) 0, 100% calc(100% - .3em), calc(100% - .3em) 100%, .4em 100%);
    transition-property: all;
    
    &:hover {      
      clip-path: polygon(
        0.2em 0.3em,
        0.5em 0,
        calc(100% - 0.7em) 0,
        calc(100% - 0.4em) calc(100% - 0.3em),
        calc(100% - 0.7em) 100%,
        0.5em 100%);
    }
  }
}

.c-button--clear {
  clip-path: polygon(0 0, 0 0, 100% 0, 100% 100%, 100% 100%, 0 100%);
  transition-property: all;
  
  &:hover {
    clip-path: polygon(0 .3em, .3em 0, calc(100% - .4em) 0, 100% calc(100% - .3em), calc(100% - .3em) 100%, .4em 100%);
    margin-left: 0;
  }
}



.c-button--main:hover {
  animation-name: button-hover;
  animation-duration: 300ms;
  animation-iteration-count: 1;
  animation-play-state: running;
  animation-timing-function: step-start;
  transform: scale(1.02);
  clip-path: polygon(0 14%, 6% 0, 95% 0, 100% 14%, 100% 85%, 97% 100%, 2% 100%, 0 71%);
}

.c-button .icon {
  margin: var(--c-button--icon-margin);
}
