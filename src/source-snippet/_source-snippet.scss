@use "source-snippet-tokens";
@use "../breakpoint";

.c-teaser.c-source-snippet {
  &:hover {
    .c-button.c-button--clear {
      --c-button--color: var(--c-button--color-hover);
    }
  }

  .c-teaser__body {
    flex-direction: column;
    .c-teaser__topic {
      color: var(--ks-color-fg);
    }
    .c-rich-text {
      color: var(--ks-text-color-interface);
      font: var(--c-rich-text--font);

      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: var(--ks-spacing-s);

      .c-button--wrapper {
        margin-left: auto;

        .c-button.c-button--clear {
          --c-button--background-color-hover: transparent;

          background: transparent;
          padding: 0;
        }
      }
    }
  }

  &--mobile.c-teaser-box {
    flex-direction: row;
    gap: var(--ks-spacing-xs);

    > :first-child {
      max-width: 7.5rem;
      width: 100%;
      padding: var(--ks-spacing-xs);
    }

    .c-teaser__body {
      justify-content: center;
      --c-rich-text--font: var(--ks-font-mono-s);
      padding: var(--ks-spacing-inset-xs);

      .c-teaser__text {
        flex: none;
      }

      .c-teaser__link {
        margin-top: 0;

        .c-button {
          font: var(--ks-font-ui-xs);
        }
      }
    }
  }
}

.source-snippet-menu {
  flex-direction: column;
  gap: var(--ks-spacing-xxs);
  font: var(--ks-font-mono-s);
  font-weight: var(--ks-font-weight-semi-bold);
  color: var(--ks-text-color-default);

  span {
    text-align: center;
  }

  &--concierge {
    span {
      color: var(--ks-text-color-primary);
      padding: var(--ks-spacing-inset-xs);
      background: var(--ks-color-primary-inverted-alpha-8);
      display: flex;
      justify-content: center;
      align-items: center;

      position: relative;
      z-index: -1;
      margin-top: -2%;

      --corner-height: 12px;
      --clip-path: polygon(
        0% var(--corner-height),
        var(--corner-height) 0%,
        calc(100% - var(--corner-height)) 0%,
        100% var(--corner-height),
        100% 100%,
        0 100%
      );
      clip-path: var(--clip-path);
    }
  }

  &--avatar {
    @include breakpoint.media("<s") {
      max-width: 35%;
    }
  }

  &--mobile {
    display: flex;
    justify-content: flex-end;

    @include breakpoint.media("≥s") {
      display: none;
    }
  }

  &--desktop {
    display: none;
    @include breakpoint.media("≥s") {
      display: flex;
      margin-top: calc(var(--l-section--space-small) * -2);
    }
  }
}
