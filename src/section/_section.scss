@use "./section-tokens";
@use "@kickstartds/core/source/core/breakpoint";

:root {
  --l-section--corner-top-left-height: var(--spacing-l);
  --l-section--corner-top-right-height: 0px;
  --l-section--corner-bottom-left-height: 0px;
  --l-section--corner-bottom-right-height: var(--spacing-xl);

  @include breakpoint.media(">s") {
    --l-section--corner-bottom-right-height: var(--spacing-xxl);
  }
}

.l-section--dark,
.l-section--dark-accent {
  --c-rich-text--color: var(--l-section-dark-color);
  --g-headline--color: var(--l-section-dark-color);

  --g-link--color: var(--color-secondary);
  --g-link--color-hover: var(--color-secondary);
  --g-link--background-hover: var(--color-secondary-alpha-1);

  --color-info: #007eb4;
  --color-success: #008300;
  --color-warning: #b85b00;
  --color-error: #cc0000;
}

.l-section {
  margin: auto;

  &--wrapper {
    overflow: hidden;
  }

  &__container {
    justify-content: center;
    &--max {
      max-width: var(--g-content-width-max);
    }
    &--full {
      max-width: var(--g-content-width-max);
    }
  }

  &--outer-width-default {
    @media (min-width: 40em) {
      max-width: calc(100% - calc(var(--g-content-padding) * 2));
    }

    @media (min-width: 1235px) {
      max-width: calc(var(--g-content-width-default) - calc(var(--g-content-padding) * 2));
    }
  }

  &--outer-width-narrow {
    @media (min-width: 40em) {
      max-width: calc(100% - calc(var(--g-content-padding) * 2));
    }

    @media (min-width: 960px) {
      max-width: calc(var(--g-content-width-narrow) - calc(var(--g-content-padding) * 2));
    }
  }

  &--outer-width-wide {
    @media (min-width: 40em) {
      max-width: calc(100% - calc(var(--g-content-padding) * 2));
    }

    @media (min-width: 1500px) {
      max-width: calc(var(--g-content-width-wide) - calc(var(--g-content-padding) * 2));
    }
  }

  &--outer-width-max {
    max-width: calc(100% - calc(var(--g-content-padding) * 2));
    @media (min-width: 1955px) {
      max-width: calc(var(--g-content-width-max) - calc(var(--g-content-padding) * 2));
    }
  }

  &--outer-width-full {
    max-width: var(--g-content-width-full);
  }

  &--content-width-narrow {
    .l-section__container > * {
      max-width: var(--g-content-width-narrow);
      max-width: calc(var(--g-content-width-narrow) - calc(var(--g-content-padding) * 2));
    }
  }

  &--content-width-default {
    .l-section__container > * {
      max-width: var(--g-content-width-default);
      max-width: calc(var(--g-content-width-default) - calc(var(--g-content-padding) * 2));
    }
  }

  &__pattern {
    position: relative;
    overflow: hidden;

    .l-section__container {
      z-index: 1;
      position: relative;
    }

    &::before,
    &::after {
      position: absolute;
      content: "";
      pointer-events: none;
      @media (min-width: 40em) {
        transform: scale(1.5);
      }
    }

    &::after {
      z-index: 0;
    }

    &-1 {
      &::before {
        left: -5em;
        top: 1em;
        @media (min-width: 40em) {
          top: 4em;
          left: -3em;
        }

        @media (min-width: 130em) {
          left: 15%;
        }
      }

      &::after {
        bottom: 10%;
        right: -1.5em;
        @media (min-width: 40em) {
          right: 20px;
        }

        @media (min-width: 130em) {
          right: 15%;
        }
      }

      &--dark {
        &::before {
          content: url(/patterns/pattern_1-dark--1.svg);
        }
        &::after {
          content: url(/patterns/pattern_1-dark--2.svg);
        }
      }

      &--light {
        &::before {
          content: url(/patterns/pattern_1-light--1.svg);
        }
        &::after {
          content: url(/patterns/pattern_1-light--2.svg);
        }
      }
    }

    &-2 {
      &::before {
        left: -5em;

        @media (min-width: 130em) {
          left: 15%;
        }
      }

      &::after {
        bottom: 10%;
        right: -6em;

        @media (min-width: 40em) {
          right: -2em;
        }

        @media (min-width: 130em) {
          right: 15%;
        }
      }

      &--dark {
        &::before {
          content: url(/patterns/pattern_2-dark--1.svg);
        }
        &::after {
          content: url(/patterns/pattern_2-dark--2.svg);
        }
      }

      &--light {
        &::before {
          content: url(/patterns/pattern_2-light--1.svg);
        }
        &::after {
          content: url(/patterns/pattern_2-light--2.svg);
        }
      }
    }
    //Headline
    &-3 {
      &::before {
        left: 0;
        transform: translateX(-75%) scale(1.15);

        @media (min-width: 60em) {
          transform: scale(1.25);
        }

        @media (min-width: 80em) {
          left: 10%;
          transform: scale(1.5);
        }

        @media (min-width: 130em) {
          left: 25%;
        }
      }

      &::after {
        top: 0rem;
        right: 0em;
        transform: scale(0.75) translateX(75%);

        @media (min-width: 60em) {
          transform: scale(0.85);
          top: 10%;
        }

        @media (min-width: 80em) {
          transform: scale(1);
          top: 15%;
          right: 10%;
        }

        @media (min-width: 130em) {
          right: 25%;
        }
      }

      &--light {
        &::before {
          content: url(/patterns/pattern_1-light--2.svg);
        }
        &::after {
          content: url(/patterns/pattern_3.svg);
        }
      }
    }
    //Blog Post
    &-4 {
      &::after {
        top: 0;
        right: 0;
        transform: scale(0.5) translate(60%, -50%);

        @media (min-width: 40em) {
          transform: scale(0.7);
          right: 0;
        }

        @media (min-width: 80em) {
          transform: scale(1);
          right: 20%;
        }

        @media (min-width: 130em) {
          right: 30%;
        }
      }

      &--dark {
        &::after {
          content: url(/patterns/pattern_3.svg);
        }
      }

      &--light {
        &::after {
          content: url(/patterns/pattern_3.svg);
        }
      }
    }
  }

  &--deko {
    clip-path: polygon(
      /* Corner Top Left */ 0% var(--l-section--corner-top-left-height),
      var(--l-section--corner-top-left-height) 0%,
      /* Corner Top Right */ 100% 0,
      /* Corner Bottom Right */ 100% calc(100% - var(--l-section--corner-bottom-right-height)),
      calc(100% - var(--l-section--corner-bottom-right-height)) 100%,
      /* Corner Bottom Left */ var(--spacing-m) 100%,
      0 calc(100% - var(--l-section--corner-bottom-left-height))
    );

    &.l-section--outer-width-narrow + .l-section--dark,
    &.l-section--outer-width-default + .l-section--dark,
    &.l-section--outer-width-wide + .l-section--dark,
    &.l-section--outer-width-max + .l-section--dark,
    &.l-section--outer-width-narrow + .l-section--accent,
    &.l-section--outer-width-default + .l-section--accent,
    &.l-section--outer-width-wide + .l-section--accent,
    &.l-section--outer-width-max + .l-section--accent {
      margin-top: var(--l-section--space);
    }

    &.l-section--outer-width-narrow + .l-section--dark.l-section--space-after-small,
    &.l-section--outer-width-default + .l-section--dark.l-section--space-after-small,
    &.l-section--outer-width-wide + .l-section--dark.l-section--space-after-small,
    &.l-section--outer-width-max + .l-section--dark.l-section--space-after-small,
    &.l-section--outer-width-narrow + .l-section--accent.l-section--space-after-small,
    &.l-section--outer-width-default + .l-section--accent.l-section--space-after-small,
    &.l-section--outer-width-wide + .l-section--accent.l-section--space-after-small,
    &.l-section--outer-width-max + .l-section--accent {
      margin-top: var(--l-section--space-small);
    }

    &.l-section--outer-width-full {
      z-index: 1;
      + .l-section--accent {
        padding-top: calc(var(--l-section--corner-bottom-right-height) + var(--l-section--space));
        margin-top: calc(var(--l-section--corner-bottom-right-height) * -1);
      }
      + .l-section--accent.l-section--space-before-small {
        padding-top: calc(var(--l-section--corner-bottom-right-height) + var(--l-section--space-small));
        margin-top: calc(var(--l-section--corner-bottom-right-height) * -1);
      }
    }
  }

  &--dark {
    .c-teaser {
      .c-rich-text a {
        color: var(--g-link--color);
        &:hover {
          background: var(--g-link--backround-hover);
          color: var(--g-link--color-hover);
        }
      }
    }

    .c-button--fill-animation:focus,
    .c-button--fill-animation:hover {
      * {
        color: var(--c-button_fill-animation--color-hover);
      }
    }

    .c-button,
    .c-button--solid,
    .c-button--solid-inverted,
    .c-button---outline,
    .c-button---outline-inverted {
      * {
        color: var(--c-button--color);
      }
    }
  }

  &.col-three {
    .l-section__container {
      --l-section_container--gutter: var(--spacing-l);

      @include breakpoint.media(">s") {
        --l-section_col--min-width: 16rem;
      }

      @media (min-width: 712px) {
        --l-section_container--gutter: var(--spacing-xs);
        --l-section_col--min-width: 9rem;
      }

      @include breakpoint.media(">m") {
        --l-section_container--gutter: var(--spacing-m);
      }
    }
  }
}

.l-section--accent,
.l-section--dark {
  + .l-section--deko.l-section--outer-width-narrow,
  + .l-section--deko.l-section--outer-width-default,
  + .l-section--deko.l-section--outer-width-wide,
  + .l-section--deko.l-section--outer-width-max {
    margin-top: var(--l-section--space);
  }
  + .l-section--deko.l-section--outer-width-narrow.l-section--space-after-small,
  + .l-section--deko.l-section--outer-width-default.l-section--space-after-small,
  + .l-section--deko.l-section--outer-width-wide.l-section--space-after-small,
  + .l-section--deko.l-section--outer-width-max.l-section--space-after-small {
    margin-top: var(--l-section--space-small);
  }

  + .l-section--deko.l-section--outer-width-full {
    margin-top: calc(var(--l-section--corner-top-left-height) * -1);
  }
}
